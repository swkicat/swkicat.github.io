<!DOCTYPE html><html lang="kr"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.7"/><meta data-react-helmet="true" property="og:title" content="개발자 스티치 | Compose Internal (2) - slot table"/><meta data-react-helmet="true" property="og:site_title" content="개발자 스티치 | Compose Internal (2) - slot table"/><meta data-react-helmet="true" name="description" content="컴포즈에서 이용되는 데이터들을 저장하기 위해서 slot table을 활용합니다. Slot Table slot table 은 Gap Buffer 자료구조와 Array 자료구조를 활용한 클래스라고 생각하면 간단하다. 배열의 단점은 사이즈가 고정되어 있고 찾으려면 직접 처음부터 찾아봐야한다. 그로 인해 O(N)이라는 시간복잡도를 가지게 된다. 컴포즈는 리컴포지션이 잦게 발생한다. 모든 연산이 O(N)이 발생한다면, 느려지게 된다. 그래서 O(1) 기대하게 된다. 배열의 단점을 극복하고자 Gap Buffer 자료구조를 활용해 slot table 을 이용한다. 은 Gap Buffer 자료구조를 기반으로 빠른 선형 접근에 최적화된 메모리 구조이다. slot table은 컴포지션에 대한 모든 정보들이 저장된다. slot table은 2가지의 선형 배열을 가지고 있다. 과 이다. group slot table에 특정 도메인에 속한 데이터가 저장되는 범위이다. 예로 들면, State, Modifi…"/><meta data-react-helmet="true" property="og:description" content="컴포즈에서 이용되는 데이터들을 저장하기 위해서 slot table을 활용합니다. Slot Table slot table 은 Gap Buffer 자료구조와 Array 자료구조를 활용한 클래스라고 생각하면 간단하다. 배열의 단점은 사이즈가 고정되어 있고 찾으려면 직접 처음부터 찾아봐야한다. 그로 인해 O(N)이라는 시간복잡도를 가지게 된다. 컴포즈는 리컴포지션이 잦게 발생한다. 모든 연산이 O(N)이 발생한다면, 느려지게 된다. 그래서 O(1) 기대하게 된다. 배열의 단점을 극복하고자 Gap Buffer 자료구조를 활용해 slot table 을 이용한다. 은 Gap Buffer 자료구조를 기반으로 빠른 선형 접근에 최적화된 메모리 구조이다. slot table은 컴포지션에 대한 모든 정보들이 저장된다. slot table은 2가지의 선형 배열을 가지고 있다. 과 이다. group slot table에 특정 도메인에 속한 데이터가 저장되는 범위이다. 예로 들면, State, Modifi…"/><meta data-react-helmet="true" property="og:author" content="swkicat"/><meta data-react-helmet="true" property="og:author" content="swkicat"/><meta data-react-helmet="true" property="og:image" content="/og-image.png"/><meta data-react-helmet="true" property="og:type" content="website"/><style data-href="/styles.ec715300629f179678b0.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans+KR&display=swap);code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{outline:none;text-decoration:none}.markdown .octicon{fill:currentColor;display:inline-block;vertical-align:text-bottom}.markdown .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown .anchor:focus{outline:none}.markdown h1 .octicon-link,.markdown h2 .octicon-link,.markdown h3 .octicon-link,.markdown h4 .octicon-link,.markdown h5 .octicon-link,.markdown h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown h1:hover .anchor,.markdown h2:hover .anchor,.markdown h3:hover .anchor,.markdown h4:hover .anchor,.markdown h5:hover .anchor,.markdown h6:hover .anchor{text-decoration:none}.markdown h1:hover .anchor .octicon-link,.markdown h2:hover .anchor .octicon-link,.markdown h3:hover .anchor .octicon-link,.markdown h4:hover .anchor .octicon-link,.markdown h5:hover .anchor .octicon-link,.markdown h6:hover .anchor .octicon-link{visibility:visible}.markdown h1:hover .anchor .octicon-link:before,.markdown h2:hover .anchor .octicon-link:before,.markdown h3:hover .anchor .octicon-link:before,.markdown h4:hover .anchor .octicon-link:before,.markdown h5:hover .anchor .octicon-link:before,.markdown h6:hover .anchor .octicon-link:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E");content:" ";display:inline-block;height:16px;width:16px}.markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;font-size:16px;font-weight:500;line-height:1.5}.markdown details{display:block}.markdown summary{display:list-item}.markdown a{background-color:initial}.markdown a:active,.markdown a:hover{outline-width:0}.markdown strong{font-weight:inherit;font-weight:bolder}.markdown h1{margin:.67em 0}.markdown img{border-style:none}.markdown code,.markdown kbd,.markdown pre{font-family:monospace,monospace;font-size:1em}.markdown hr{box-sizing:initial;overflow:visible}.markdown input{font:inherit;margin:0;overflow:visible}.markdown [type=checkbox]{box-sizing:border-box;padding:0}.markdown *{box-sizing:border-box}.markdown input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown a{border-bottom:.05em solid;border-color:var(--link-text-color);color:var(--link-text-color);text-decoration:none}.markdown a.anchor{border-bottom:none}.markdown strong{font-weight:700}.markdown hr{background:transparent;border-bottom:1px solid var(--markdown-blockquote-border-color);height:0;margin:15px 0;overflow:hidden}.markdown hr:after,.markdown hr:before{content:"";display:table}.markdown hr:after{clear:both}.markdown table{border-collapse:collapse;border-spacing:0}.markdown td,.markdown th{padding:0}.markdown details summary{cursor:pointer}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{margin-bottom:0;margin-top:0}.markdown h1{font-size:32px}.markdown h1,.markdown h2{font-weight:600}.markdown h2{font-size:24px}.markdown h3{font-size:20px}.markdown h3,.markdown h4{font-weight:600}.markdown h4{font-size:16px}.markdown h5{font-size:14px}.markdown h5,.markdown h6{font-weight:600}.markdown h6{font-size:12px}.markdown p{line-height:200%;margin-bottom:10px;margin-top:0}.markdown blockquote{margin:0}.markdown ol,.markdown ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown ol ol,.markdown ul ol{list-style-type:lower-roman}.markdown ol ol ol,.markdown ol ul ol,.markdown ul ol ol,.markdown ul ul ol{list-style-type:lower-alpha}.markdown dd{margin-left:0}.markdown code,.markdown pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown code.language-text{border-radius:3px;font-size:85%;padding:.2em .4em}.markdown :not(pre)>code.language-text{background:hsla(44,6%,50%,.15);color:#eb5757;overflow-wrap:break-word}.markdown pre{margin-bottom:0;margin-top:0}.markdown input::-webkit-inner-spin-button,.markdown input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown .border{border:1px solid var(--markdown-border-color)!important}.markdown .border-0{border:0!important}.markdown .border-bottom{border-bottom:1px solid var(--markdown-border-color)!important}.markdown .rounded-1{border-radius:3px!important}.markdown .bg-white{background-color:transparent!important}.markdown .bg-gray-light{background-color:#fafbfc!important}.markdown .text-gray-light{color:#6a737d!important}.markdown .pl-3,.markdown .px-3{padding-left:16px!important}.markdown .px-3{padding-right:16px!important}.markdown .f6{font-size:12px!important}.markdown .lh-condensed{line-height:1.25!important}.markdown .text-bold{font-weight:600!important}.markdown .pl-c{color:#6a737d}.markdown .pl-c1,.markdown .pl-s .pl-v{color:#005cc5}.markdown .pl-e,.markdown .pl-en{color:#6f42c1}.markdown .pl-s .pl-s1,.markdown .pl-smi{color:#24292e}.markdown .pl-ent{color:#22863a}.markdown .pl-k{color:#d73a49}.markdown .pl-pds,.markdown .pl-s,.markdown .pl-s .pl-pse .pl-s1,.markdown .pl-sr,.markdown .pl-sr .pl-cce,.markdown .pl-sr .pl-sra,.markdown .pl-sr .pl-sre{color:#032f62}.markdown .pl-smw,.markdown .pl-v{color:#e36209}.markdown .pl-bu{color:#b31d28}.markdown .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown .pl-c2:before{content:"^M"}.markdown .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown .pl-ml{color:#735c0f}.markdown .pl-mh,.markdown .pl-mh .pl-en,.markdown .pl-ms{color:#005cc5;font-weight:700}.markdown .pl-mi{color:#24292e;font-style:italic}.markdown .pl-mb{color:#24292e;font-weight:700}.markdown .pl-md{background-color:#ffeef0;color:#b31d28}.markdown .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown .pl-mc{background-color:#ffebda;color:#e36209}.markdown .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown .pl-mdr{color:#6f42c1;font-weight:700}.markdown .pl-ba{color:#586069}.markdown .pl-sg{color:#959da5}.markdown .pl-corl{color:#032f62;text-decoration:underline}.markdown .mb-0{margin-bottom:0!important}.markdown .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown .pl-0{padding-left:0!important}.markdown .py-0{padding-bottom:0!important;padding-top:0!important}.markdown .pl-1{padding-left:4px!important}.markdown .pl-2{padding-left:8px!important}.markdown .py-2{padding-bottom:8px!important;padding-top:8px!important}.markdown .pl-3{padding-left:16px!important}.markdown .pl-4{padding-left:24px!important}.markdown .pl-5{padding-left:32px!important}.markdown .pl-6{padding-left:40px!important}.markdown .pl-7{padding-left:48px!important}.markdown .pl-8{padding-left:64px!important}.markdown .pl-9{padding-left:80px!important}.markdown .pl-10{padding-left:96px!important}.markdown .pl-11{padding-left:112px!important}.markdown .pl-12{padding-left:128px!important}.markdown hr{border-bottom-color:#eee}.markdown kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown:after,.markdown:before{content:"";display:table}.markdown:after{clear:both}.markdown>:first-of-type{margin-top:0!important}.markdown>:last-child{margin-bottom:0!important}.markdown a:not([href]){color:inherit;text-decoration:none}.markdown blockquote,.markdown details,.markdown dl,.markdown ol,.markdown p,.markdown pre,.markdown table,.markdown ul{margin-bottom:16px;margin-top:0}.markdown hr{background-color:var(--markdown-border-color);border:0;height:1px;margin:24px 0;padding:0}.markdown blockquote{border-left:2px solid var(--markdown-blockquote-border-color);color:#6a737d;padding:0 1em}.markdown blockquote>:first-of-type{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown em{font-style:italic}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown h1{font-size:2em}.markdown h2{font-size:1.5em}.markdown h3{font-size:1.25em}.markdown h4{font-size:1em}.markdown h5{font-size:.875em}.markdown h6{color:#6a737d;font-size:.85em}.markdown ol,.markdown ul{padding-left:2em}.markdown ol ol,.markdown ol ul,.markdown ul ol,.markdown ul ul{margin-bottom:0;margin-top:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown li{word-wrap:break-all;display:list-item;line-height:200%;text-align:-webkit-match-parent}.markdown li>p{margin-top:16px}.markdown li+li{margin-top:.25em}.markdown dl{padding:0}.markdown dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown dl dd{margin-bottom:16px;padding:0 16px}.markdown table{display:block;overflow:auto;width:100%}.markdown table th{font-weight:600}.markdown table td,.markdown table th{border:1px solid var(--markdown-table-border-color);padding:6px 13px}.markdown table tr{border-top:1px solid var(--markdown-table-border-color)}.markdown table tr:nth-child(2n){background-color:var(--markdown-table-even-cell-background-color)}.markdown img{background-color:transparent;box-sizing:initial;display:block;margin:0 auto;max-width:100%}.markdown img[align=right]{padding-left:20px}.markdown img[align=left]{padding-right:20px}.markdown code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.markdown pre{word-wrap:normal}.markdown pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown .highlight{margin-bottom:16px}.markdown .highlight pre{margin-bottom:0;word-break:normal}.markdown .highlight pre,.markdown pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown pre code{word-wrap:normal;background-color:initial;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown .commit-tease-sha{color:#444d56;display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%}.markdown .full-commit .btn-outline:not(:disabled):hover{border-color:#005cc5;color:#005cc5}.markdown .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown .blob-num{color:rgba(27,31,35,.3);cursor:pointer;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;-webkit-user-select:none;user-select:none;vertical-align:top;white-space:nowrap;width:1%}.markdown .blob-num:hover{color:rgba(27,31,35,.6)}.markdown .blob-num:before{content:attr(data-line-number)}.markdown .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top}.markdown .blob-code-inner{word-wrap:normal;color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;overflow:visible;white-space:pre}.markdown .pl-token.active,.markdown .pl-token:hover{background:#ffea7f;cursor:pointer}.markdown .tab-size[data-tab-size="1"]{-o-tab-size:1;tab-size:1}.markdown .tab-size[data-tab-size="2"]{-o-tab-size:2;tab-size:2}.markdown .tab-size[data-tab-size="3"]{-o-tab-size:3;tab-size:3}.markdown .tab-size[data-tab-size="4"]{-o-tab-size:4;tab-size:4}.markdown .tab-size[data-tab-size="5"]{-o-tab-size:5;tab-size:5}.markdown .tab-size[data-tab-size="6"]{-o-tab-size:6;tab-size:6}.markdown .tab-size[data-tab-size="7"]{-o-tab-size:7;tab-size:7}.markdown .tab-size[data-tab-size="8"]{-o-tab-size:8;tab-size:8}.markdown .tab-size[data-tab-size="9"]{-o-tab-size:9;tab-size:9}.markdown .tab-size[data-tab-size="10"]{-o-tab-size:10;tab-size:10}.markdown .tab-size[data-tab-size="11"]{-o-tab-size:11;tab-size:11}.markdown .tab-size[data-tab-size="12"]{-o-tab-size:12;tab-size:12}.markdown .task-list-item{list-style-type:none}.markdown .task-list-item+.task-list-item{margin-top:3px}.markdown .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown .table-of-contents{align-items:flex-start;display:flex;flex-direction:column;justify-content:center;overflow-y:scroll;position:fixed;right:0;top:75px;width:340px}@media(max-width:1400px){.markdown .table-of-contents{display:none}}.markdown .table-of-contents ul{cursor:pointer;list-style-type:none}.markdown .table-of-contents ul li a{border-bottom:none;color:#6a737d;font-size:14px;height:30px}.markdown .table-of-contents ul p{margin:0}.markdown .gatsby-resp-image-wrapper{display:flex!important;justify-content:center!important;max-height:560px!important;width:100%!important}.markdown .gatsby-resp-image-wrapper img{height:auto!important;max-height:560px!important;max-width:100%!important;position:relative!important;width:auto!important}.markdown .gatsby-resp-image-wrapper+em{color:#6a737d;display:block;font-size:15px;font-style:italic;text-align:center}@font-face{font-family:GmarketSansLight;font-style:normal;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansLight.woff) format("woff")}@font-face{font-family:GmarketSansMedium;font-style:normal;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff) format("woff")}@font-face{font-family:GmarketSansBold;font-style:normal;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff) format("woff")}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><title data-react-helmet="true">개발자 스티치 | Compose Internal (2) - slot table</title><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3HJ4DE7X8R"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-3HJ4DE7X8R'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = false;

    var options = {
      send_page_view: false
    };
    if (false) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-3HJ4DE7X8R', options);
  </script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=12a28fe749aa82d4d5fb552877e7bc9f" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=12a28fe749aa82d4d5fb552877e7bc9f"/><link rel="preload" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansLight.woff" as="font" type="font/woff" crossorigin="anonymous"/><link rel="preload" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff" as="font" type="font/woff" crossorigin="anonymous"/><link rel="preload" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff" as="font" type="font/woff" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global q7z4oc">*{box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}html{font-family:'GmarketSansMedium';width:100%;height:100%;overflow-y:scroll;font-size:14px;color:#0F1010;background-color:#F7F8FA;}html a{color:#0F1010;-webkit-text-decoration:none;text-decoration:none;}body{-ms-overflow-style:none;scrollbar-width:none;}::-webkit-scrollbar{display:none;}.pc-only{display:block;}@media screen and (max-width: 768px){.pc-only{display:none;}}.mobile-only{display:none;}@media screen and (max-width: 768px){.mobile-only{display:block;}}.markdown{font-family:'Noto Sans KR',sans-serif;}.scroll-locked{overflow:hidden;}</style><style data-emotion="css 1im0r96">.css-1im0r96{overflow-y:scroll;}</style><div class="css-1im0r96 e1oc8ext2"><style data-emotion="css do88k5">.css-do88k5{cursor:pointer;position:fixed;z-index:1000;top:0;right:0;background-color:#3C3D40;border-radius:50%;width:50px;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;top:20px;right:20px;}.css-do88k5 .theme-icon{color:#FFFFFF;width:20px;height:20px;}@media screen and (max-width: 768px){.css-do88k5{top:50px;width:30px;height:30px;}.css-do88k5 .theme-icon{width:15px;height:15px;}}</style><div class="css-do88k5 e1gmrmu50"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="theme-icon"><path d="M2.89998 0.499976C2.89998 0.279062 2.72089 0.0999756 2.49998 0.0999756C2.27906 0.0999756 2.09998 0.279062 2.09998 0.499976V1.09998H1.49998C1.27906 1.09998 1.09998 1.27906 1.09998 1.49998C1.09998 1.72089 1.27906 1.89998 1.49998 1.89998H2.09998V2.49998C2.09998 2.72089 2.27906 2.89998 2.49998 2.89998C2.72089 2.89998 2.89998 2.72089 2.89998 2.49998V1.89998H3.49998C3.72089 1.89998 3.89998 1.72089 3.89998 1.49998C3.89998 1.27906 3.72089 1.09998 3.49998 1.09998H2.89998V0.499976ZM5.89998 3.49998C5.89998 3.27906 5.72089 3.09998 5.49998 3.09998C5.27906 3.09998 5.09998 3.27906 5.09998 3.49998V4.09998H4.49998C4.27906 4.09998 4.09998 4.27906 4.09998 4.49998C4.09998 4.72089 4.27906 4.89998 4.49998 4.89998H5.09998V5.49998C5.09998 5.72089 5.27906 5.89998 5.49998 5.89998C5.72089 5.89998 5.89998 5.72089 5.89998 5.49998V4.89998H6.49998C6.72089 4.89998 6.89998 4.72089 6.89998 4.49998C6.89998 4.27906 6.72089 4.09998 6.49998 4.09998H5.89998V3.49998ZM1.89998 6.49998C1.89998 6.27906 1.72089 6.09998 1.49998 6.09998C1.27906 6.09998 1.09998 6.27906 1.09998 6.49998V7.09998H0.499976C0.279062 7.09998 0.0999756 7.27906 0.0999756 7.49998C0.0999756 7.72089 0.279062 7.89998 0.499976 7.89998H1.09998V8.49998C1.09998 8.72089 1.27906 8.89997 1.49998 8.89997C1.72089 8.89997 1.89998 8.72089 1.89998 8.49998V7.89998H2.49998C2.72089 7.89998 2.89998 7.72089 2.89998 7.49998C2.89998 7.27906 2.72089 7.09998 2.49998 7.09998H1.89998V6.49998ZM8.54406 0.98184L8.24618 0.941586C8.03275 0.917676 7.90692 1.1655 8.02936 1.34194C8.17013 1.54479 8.29981 1.75592 8.41754 1.97445C8.91878 2.90485 9.20322 3.96932 9.20322 5.10022C9.20322 8.37201 6.82247 11.0878 3.69887 11.6097C3.45736 11.65 3.20988 11.6772 2.96008 11.6906C2.74563 11.702 2.62729 11.9535 2.77721 12.1072C2.84551 12.1773 2.91535 12.2458 2.98667 12.3128L3.05883 12.3795L3.31883 12.6045L3.50684 12.7532L3.62796 12.8433L3.81491 12.9742L3.99079 13.089C4.11175 13.1651 4.23536 13.2375 4.36157 13.3059L4.62496 13.4412L4.88553 13.5607L5.18837 13.6828L5.43169 13.7686C5.56564 13.8128 5.70149 13.8529 5.83857 13.8885C5.94262 13.9155 6.04767 13.9401 6.15405 13.9622C6.27993 13.9883 6.40713 14.0109 6.53544 14.0298L6.85241 14.0685L7.11934 14.0892C7.24637 14.0965 7.37436 14.1002 7.50322 14.1002C11.1483 14.1002 14.1032 11.1453 14.1032 7.50023C14.1032 7.25044 14.0893 7.00389 14.0623 6.76131L14.0255 6.48407C13.991 6.26083 13.9453 6.04129 13.8891 5.82642C13.8213 5.56709 13.7382 5.31398 13.6409 5.06881L13.5279 4.80132L13.4507 4.63542L13.3766 4.48666C13.2178 4.17773 13.0353 3.88295 12.8312 3.60423L12.6782 3.40352L12.4793 3.16432L12.3157 2.98361L12.1961 2.85951L12.0355 2.70246L11.8134 2.50184L11.4925 2.24191L11.2483 2.06498L10.9562 1.87446L10.6346 1.68894L10.3073 1.52378L10.1938 1.47176L9.95488 1.3706L9.67791 1.2669L9.42566 1.1846L9.10075 1.09489L8.83599 1.03486L8.54406 0.98184ZM10.4032 5.30023C10.4032 4.27588 10.2002 3.29829 9.83244 2.40604C11.7623 3.28995 13.1032 5.23862 13.1032 7.50023C13.1032 10.593 10.596 13.1002 7.50322 13.1002C6.63646 13.1002 5.81597 12.9036 5.08355 12.5522C6.5419 12.0941 7.81081 11.2082 8.74322 10.0416C8.87963 10.2284 9.10028 10.3497 9.34928 10.3497C9.76349 10.3497 10.0993 10.0139 10.0993 9.59971C10.0993 9.24256 9.84965 8.94373 9.51535 8.86816C9.57741 8.75165 9.63653 8.63334 9.6926 8.51332C9.88358 8.63163 10.1088 8.69993 10.35 8.69993C11.0403 8.69993 11.6 8.14028 11.6 7.44993C11.6 6.75976 11.0406 6.20024 10.3505 6.19993C10.3853 5.90487 10.4032 5.60464 10.4032 5.30023Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><style data-emotion="css 1epef34">.css-1epef34{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-height:100vh;word-break:keep-all;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:60px 15px;margin-bottom:61px;background-color:#FFFFFF;box-shadow:0 0 30px rgb(0 0 0 / 0.1);}@media screen and (max-width: 768px){.css-1epef34{margin-bottom:39px;padding-bottom:30px;}}</style><div class="css-1epef34 e1oc8ext1"><style data-emotion="css 1pxycuq">.css-1pxycuq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;height:60px;position:fixed;top:0;left:0;background-color:#FFFFFF;z-index:100;}@media screen and (max-width: 768px){.css-1pxycuq{padding:0 15px;}}</style><div class="css-1pxycuq ergyqlo3"><style data-emotion="css rac6g">.css-rac6g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;max-width:720px;font-family:GmarketSansBold;}@media screen and (max-width: 768px){.css-rac6g .mobile-logo{background-color:#0F1010;width:25px;height:25px;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;font-family:Montserrat;font-weight:800;}.css-rac6g .mobile-logo a{color:#FFFFFF;}}</style><div class="css-rac6g ergyqlo2"><div><div class="pc-only"><style data-emotion="css 4azvcs">.css-4azvcs{font-size:17px;display:inline-block;position:relative;}.css-4azvcs:after{content:'';position:absolute;width:100%;-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);height:1px;bottom:-1px;left:0;background-color:#0F1010;transform-origin:bottom right;-webkit-transition:-webkit-transform 0.25s ease-out;transition:transform 0.25s ease-out;}.css-4azvcs:hover:after{-webkit-transform:scaleX(1);-moz-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);transform-origin:bottom left;}@media screen and (max-width: 768px){.css-4azvcs:hover:after{-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);}}.css-4azvcs:after{height:2px;bottom:-2px;-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);}@media screen and (max-width: 768px){.css-4azvcs:hover:after{-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);}}@media screen and (max-width: 768px){.css-4azvcs{font-size:13px;}}</style><a isselected="false" class="css-4azvcs ergyqlo0" href="/">swkicat</a></div><div class="mobile-only mobile-logo"><a isselected="false" class="css-4azvcs ergyqlo0" href="/">D</a></div></div><style data-emotion="css zatqba">.css-zatqba{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-zatqba ergyqlo1"><a isselected="false" class="css-4azvcs ergyqlo0" href="/posts">posts</a><a isselected="false" class="css-4azvcs ergyqlo0" href="/about">about</a></div></div></div><style data-emotion="css e6awp2">.css-e6awp2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;width:100%;max-width:720px;}</style><main class="css-e6awp2 e1oc8ext0"><style data-emotion="css 1rjlvbj">.css-1rjlvbj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;padding-bottom:40px;border-bottom:1px solid #EEEFF1;margin:40px 0;word-break:keep-all;}</style><header class="css-1rjlvbj e11ak9ox5"><style data-emotion="css 3muz7f">.css-3muz7f{font-size:78px;margin-bottom:20px;}</style><div class="css-3muz7f e11ak9ox4">🔎</div><style data-emotion="css o2o5ek">.css-o2o5ek{margin-bottom:5px;font-size:15px;}</style><div class="css-o2o5ek e11ak9ox2"><style data-emotion="css 1gdjc01">.css-1gdjc01{margin-right:4px;color:#989BA0;display:inline-block;position:relative;}.css-1gdjc01:after{content:'';position:absolute;width:100%;-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);height:1px;bottom:-1px;left:0;background-color:#0F1010;transform-origin:bottom right;-webkit-transition:-webkit-transform 0.25s ease-out;transition:transform 0.25s ease-out;}.css-1gdjc01:hover:after{-webkit-transform:scaleX(1);-moz-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);transform-origin:bottom left;}@media screen and (max-width: 768px){.css-1gdjc01:hover:after{-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);}}.css-1gdjc01:after{background-color:#989BA0;}</style><a class="css-1gdjc01 e11ak9ox1" href="/posts/컴포즈내부시리즈">컴포즈내부시리즈</a></div><style data-emotion="css 1xqnk3h">.css-1xqnk3h{font-size:32px;margin-bottom:6px;line-height:1.3;}@media screen and (max-width: 768px){.css-1xqnk3h{font-size:25px;}}</style><h1 class="css-1xqnk3h e11ak9ox0">Compose Internal (2) - slot table</h1><style data-emotion="css dror6n">.css-dror6n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:15px;color:#808388;font-family:GmarketSansLight;}</style><div class="css-dror6n e11ak9ox3">2023.11.08</div></header><style data-emotion="css 1ayc6q6">.css-1ayc6q6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;margin-bottom:30px;}</style><div class="css-1ayc6q6 e6ffem50"><div class="markdown"><p>컴포즈에서 이용되는 데이터들을 저장하기 위해서 <strong>slot table</strong>을 활용합니다.</p>
<h2 id="slot-table" style="position:relative;"><a href="#slot-table" aria-label="slot table permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slot Table</h2>
<p><strong>slot table</strong> 은 Gap Buffer 자료구조와 Array 자료구조를 활용한 클래스라고 생각하면 간단하다.<br>
배열의 단점은 사이즈가 고정되어 있고 찾으려면 직접 처음부터 찾아봐야한다. 그로 인해 O(N)이라는 시간복잡도를 가지게 된다. 컴포즈는 리컴포지션이 잦게 발생한다. 모든 연산이 O(N)이 발생한다면, 느려지게 된다. 그래서 O(1) 기대하게 된다. 배열의 단점을 극복하고자 Gap Buffer 자료구조를 활용해 <strong>slot table</strong> 을 이용한다.</p>
<blockquote>
<p><code class="language-text">slot table</code>은 Gap Buffer 자료구조를 기반으로 빠른 선형 접근에 최적화된 메모리 구조이다.</p>
</blockquote>
<ul>
<li>slot table은 컴포지션에 대한 모든 정보들이 저장된다.</li>
<li>slot table은 2가지의 선형 배열을 가지고 있다. <code class="language-text">group</code>과 <code class="language-text">slot</code>이다.</li>
</ul>
<h3 id="group" style="position:relative;"><a href="#group" aria-label="group permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>group</h3>
<p>slot table에 특정 도메인에 속한 데이터가 저장되는 범위이다. 예로 들면, State, Modifier, CompositionLocal …이 존재한다.</p>
<blockquote>
<p>컴포저블의 그룹에 대한 메타데이터를 제공하는 그룹 필드에 대한 값만 저장하며 IntArray 타입으로 관리한다.</p>
</blockquote>
<p>모든 컴포저블은 slot table에 저장됩니다.</p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"stitch"</span></span><span class="token punctuation">)</span></code></pre></div>
<p>위의 코드처럼 컴포저블이 표시하는 데이터 “stitch”을 slot table의 저장하기 까지의 상위 컴포저블들을 group이라고 부릅니다.</p>
<p>group는 3가지로 분류가 됩니다.</p>
<ol>
<li><strong>RestartableGroup</strong></li>
</ol>
<ul>
<li>리컴포지션하는 방법을 알려줍니다.</li>
<li>모든 컴포저블에 기본으로 형성되는 그룹입니다.</li>
<li>리컴포지션 스코프를 컴포즈 내부에서는 RecomposeScope라고 부릅니다.</li>
</ul>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"stitch"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="2">
<li><strong>ReplaceableGroup</strong></li>
</ol>
<ul>
<li>기존에 보여지고 있던 컴포저블 데이터를 정리하는 방법을 알려줍니다.</li>
<li>조건문으로 감싸진 컴포저블에 형성되는 그룹</li>
</ul>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">Test</span><span class="token punctuation">(</span>visible<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">VisibleComposable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">InvisibleComposable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="3">
<li><strong>MoveableGroup</strong></li>
</ol>
<ul>
<li>기존에 저장된 데이터를 보존하며 위치를 옮기는 방법을 알려줍니다.</li>
<li>key 컴포저블을 이용해 배치된 컴포저블 위주로 MoveableGroup이 생성됩니다.</li>
<li>위치가 변경될 수 있는 컴포저블에 형성되는 그룹</li>
</ul>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">LazyColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">item</span><span class="token punctuation">(</span>key <span class="token operator">=</span> <span class="token punctuation">{</span>it<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"stitch"</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">⛳️ tip
UI가 그려지기 전에 컴포지션이 발생하고 상태가 변경되면 리컴포지션이 발생한다.  
이전 글에서 말했듯이 컴포지션은 초기 데이터를 slot table에 넣는 과정이다. 
리컴포지션은 업데이트 될 데이터를 slot table에 덮어쓰는 과정이라고 생각하면 된다.
컴포즈를 학습하면 알 듯이 상태에 변경이 없으면 같은 결과 값을 주기 때문에 컴포저블이 리컴포지션이 일어나지 않는다. 
이것을 `smart-recomposition` 이라고 부른다.</code></pre></div>
<h3 id="slot" style="position:relative;"><a href="#slot" aria-label="slot permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>slot</h3>
<blockquote>
<p>컴포저블 그룹에 대한 데이터를 저장한다. 즉, 실제 컴포지션 관련 데이터가 저장된다.
특정한 데이터만 저장되지 않고 다양한 데이터들이 저장되기에 Array&#x3C;Any?> 타입으로 관리한다.</p>
</blockquote>
<p><strong>그룹</strong> 은 그룹의 그룹 필드와 모든 하위 필드가 그룹을 구성합니다. 그룹은 슬롯 배열을 해석하는 방법에 설명해준다. 그룹에는 컴포저블 그룹에 대한 key, object key, 노드 및 0개 이상의 슬롯이 있습니다. 그룹은 하위 그룹이 그룹의 그룹 필드 바로 뒤에 있는 트리를 형성합니다.<br>
또한, 하위 항목의 선형 스캔을 선호합니다. 하지만 Anchor가 존재하지 않는다면, 데이터까지의 접근 비용이 O(N)으로 발생합니다.</p>
<p><strong>슬롯</strong> 은 그룹에 의해 관리가 되며, 그룹을 통해 주소가 지정됩니다. 슬롯은 슬롯 배열에 할당되어 해당 그룹의 순서대로 저장됩니다.</p>
<h3 id="anchor" style="position:relative;"><a href="#anchor" aria-label="anchor permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Anchor</h3>
<p>Anchor는 Gap을 무시하고 cursor를 옮기고자 하는 곳의 절대적인 Offset을 적용해줘서 내가 원하는 위치에 있다고 가정하게 해준다. 특정 위치의 절대적인 인덱스를 가리키며 랜덤 액세스를 활성화된다. 랜덤 액세스가 활성화되면서 cursor를 조정하는 O(N) 시간을 현저히 줄어들게 됩니다.</p>
<h3 id="메모리-구조를-gap-buffer을-채택한-이유" style="position:relative;"><a href="#%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0%EB%A5%BC-gap-buffer%EC%9D%84-%EC%B1%84%ED%83%9D%ED%95%9C-%EC%9D%B4%EC%9C%A0" aria-label="메모리 구조를 gap buffer을 채택한 이유 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>메모리 구조를 Gap Buffer을 채택한 이유</h3>
<p>컴포즈에서 활용되는 메모리 구조는 Gap Buffer에 여러 가지 방법이 섞여서 활용되고 있습니다. 일반적으로 메모장에서 Gap Buffer을 활용하는데 이와 메모리 구조와 비슷해서 Gap Buffer을 채택한 이유라고 타이틀을 정했습니다.<br>
Gap buffer는 index나 cursor를 갖는 구조로 flat array로 구성됩니다. 이 flat array는 여기에 담는 data보다 큰 사이즈를 가지며 남는 공간은 Gap 이 됩니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 126.11111111111113%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAACvklEQVQ4y5VV21LbMBDlL9oCsWxZd8nXOHGSQhlgmE5/ou9t6f8/ns6uMYQ20ORBsbLyHK/27Dl7JvISWV6iyEtIbaBSgLQWpXPQIfCyKfGT4ip6PrsUEqJQyAsFwsif9mdBatwbh+8+Yu09Mm0gFhJCSHT9iM32C7pujRAaiExCSAXrHL4aByc1JzODMSD9FIWCzEuUxkLXEaWzKL2DClM2hTWQbsraVBF5cLgqDTplcPk3IKVLqWeihDSGgfiw1KiaHt0wou3X8KlGLhV/VDiLbWnQlgcA542YAZ2baiIVYtWh6QZYl6Bt4PeozgS4Ow7QwrQJpfdcfB0DVAwwVYJOgbO3TUIe/JGA2vDKFhJZJjEMW2x3N+j7DUJsOFZIBWEtdurYDJvE1yZCiAgiJDd6IsU7mDqekOFTDTkmFZOxGj+jX20Qq5bjMylH15AyK0qNQmmEqkFqexgfoV3guCLSnHsFWOw19z+AuorPSjExskpcVfGe4kRO7p8AlcGFkMgE1VYfvjItKj79Xy43rJS2WyGEmmOU5UxKIzUK7WBtwIePl1hkxeG2oWtT2xTOoLCan7NybJsggseddniQCrubWzz++o0fPx9xe/fwfoak5fV4hX45tQ1p+SVDi4aUYwPW6y3u7h9QN/37NfR1jdA07DTcRgdqeJ4VuLjI8Ol8cfjKLywb2JDgYsVsE9Nvsky1fIuUfS33w4hxe426HeBjPWnZnKplUspsXX6yLnrO6zSl7GmZDLZtVxjHayZnNtj9tjlOKdQuSjOwCRE2Jo6T5KiuivzSu+OvzCybieXQtEh9j3q5ZMb5fJ/lY8xhvw+bdsCw2iGlDs6l10o5zWAdX322L+ntMymzwb45U97V8rBhg10OW8TUQmQlzxrjHL4ZB5qYi/+xzFb/pJTZaRSNBO85TnObiKH3D83lPxPd0qmngT7VAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="gap-buffer-1"
        title="gap-buffer-1"
        src="/static/6f618d7c7e73368d77f2bd3b4dc4245e/37523/gap-buffer-1.png"
        srcset="/static/6f618d7c7e73368d77f2bd3b4dc4245e/e9ff0/gap-buffer-1.png 180w,
/static/6f618d7c7e73368d77f2bd3b4dc4245e/f21e7/gap-buffer-1.png 360w,
/static/6f618d7c7e73368d77f2bd3b4dc4245e/37523/gap-buffer-1.png 720w,
/static/6f618d7c7e73368d77f2bd3b4dc4245e/8ae3e/gap-buffer-1.png 756w"
        sizes="(max-width: 720px) 100vw, 720px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>컴포지션이 진행되면 메모리 구조에 해당 정보가 채워집니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 128.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAADgklEQVRIx4VVy27bVhTMLxRoC9iUSN73i5cUKUWWLNtK0xe6SNEg6AMFumkTNLv2H7LIV3TTflbX/Y4pzqGkOIoSLS4IU/Rw5syc4YNaaNCpagVhLOysgY4BpolQ6c1Vpwi9+9vkiLp+8397DDoPjgGltSgnAlUpcVEI/PV0wNPB4+NLgbqUfF96h7u7z+B8QlnJ9wBWCtJYuL6BCh4qBtgU8PKrHl+uMirvmTmxtF2CkOYMw2pkSGBCaExqjT5Y/P3jQ7zcZlzQC6WGUAYqelgXIbU9D0gMpDIopMEqe/z75y1ePxnwaaWhtGEVBBhTC2PDeclkinKOmUrvsRkScg4Q3vM9km3bhJLmuWN3n+XbpujRlGoqUEwlktL4748NXn3d4aOLGqKS44u9w2p9w7LPMqRI0FVYB2Udfr7NuOkjSm2hrIV0jp8hMDLmgzNkyW2CJDDvIZzD88cz3M0TSr43joIAnYtQ2r0fsD7k0KGcjtLKSuGf7+f4aRnxSSFQV4oBiOX19S38qRzSA6VQKCrJgG7InEGTImTwKGimnEF/2BQ3a1BMBcpTpnTK4HPr8UtI6J1H5Ryzm5YC88UK15tHWCzW6GaLcd1ISfD4wnpkZTA9lkwhlkIjCwNjHXROPEuSbmOCbzKU89A+cAK096ibiLW2uNIOxTEg0a1oM3aSzQHQIrQtYjfjE3I75tM5iCZiqSweaovJWVN2kim4w/wKq+st2m6OJvfjrIhA8Fhqy+c+IP3+dmwslUMeNyJFCGdRWQ3hLYd5X2uiS8yQJN8HpFye2JQxNtOpwDBfYbW+Q98v0bZzfilHx48MB21xUQo28LIo+bwb7G63y97zDNNsxhGyKXGwTQwQeZzhN9YhxAZPvv2O+3Fzsz2xeiRJm7G9Y4JLmQ1xqYE0jtePXCa5j7VFSC2ePfsBz1/8jl9/e3GiD71n+bQB/XCF9eYRZzC3wzgnepZMURbzneRiUrFckn7ClOZQU3StnWFD5H6Pyax2NGXvMpmxb/B3vykUm1KiLAUzW17doB+WI8PdphDDq11sirONHQNqqVErDZ8yUjuDtgHGBdTKQGqDOgUszgX78JGixqZ2jh4uN3xC18HlPOYwBZa81Q5r4z7A8OgzOp3UnL/1eouuW6BpelSl4nFQOVChtKfK4TjYlMN9TendUbvq4vs58m+XlTyA3a+v/wEC1/RBd7FQWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="gap-buffer-2"
        title="gap-buffer-2"
        src="/static/ec7e538f36368b1f535b60828d3be3bb/37523/gap-buffer-2.png"
        srcset="/static/ec7e538f36368b1f535b60828d3be3bb/e9ff0/gap-buffer-2.png 180w,
/static/ec7e538f36368b1f535b60828d3be3bb/f21e7/gap-buffer-2.png 360w,
/static/ec7e538f36368b1f535b60828d3be3bb/37523/gap-buffer-2.png 720w,
/static/ec7e538f36368b1f535b60828d3be3bb/cab8c/gap-buffer-2.png 744w"
        sizes="(max-width: 720px) 100vw, 720px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>컴포지션이 진행된 후, 리컴포지션이 발생하는 순간 cursor는 메모리 구조의 맨 위로 이동합니다. 이 때 데이터 변경이 없으면 스마트리컴포지션이 발생해 아무 것도하지 않게 됩니다. 변경이 된다면, 아래와 같이 데이터를 업데이트합니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 127.22222222222224%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAADGUlEQVQ4y42V247bNhCG8wxBgAK71oFnUhIp0fI6rnfr7AbNRS6yvUgvigItCnSLFCjQZ+lF+0Z9rz+Yke2o3ZMvBqCG4uDnfDPDF7XQIKtqhVpqmK6BtA7KOVTGIXUeLngI6yCd4z3dBFjffDm3j0H2Yh5QKAMVPMpSQtQKr84F/rnN+HPX4eWZYB/tSe+wu34LrT3KSj4esFYGLkdWoNvJPux63GwiRAgw5CN1qUVZy6O6ucpjwHqmsKokqop+Ulj9uEZ6n1EWEpVQ7BfOIg1LKGXvX5kcZa2wqBRKymFsIYyFJLMW8XaF5u0Aoadv8pNy4wKEMPcDCqFhpUaSBkFb6NTywQOU3697fNx0WOjJx1C6Bta3D0NRQmNrHD76Bm98QOkd6lKirBQWpcS/v27w93f5CKUiYM7iancNYx6Acrwy/Sw1XO6g9gAIREoNApVSMwE5QFmUNef6NCil5O+vFhJ/3Wb88Sbi1bmEmEHZXu2gzQllQ1Ao8ZSvhTL44bLFuzHgTGooKm47QQlpgJDm6cLmgAzFQViLECNUzNBdj7YfoJznCqBuClJPOd3f7tGAytOVFYpSoOsyttsd+n5EFzOXCXeR97jxARttcf6cwnmnUIvVzkB4y+sDFJlaJG1xqd3zASeFkhWmfsTX22uMqw364eKosPYe2ThsTwnIOeQucTAhwHWRc0c2TRsL0QUOeFAoTqFMUHwX0Q2ZrUn91Cm01wYM+4BnlURR1Hye7P6VeThMY4pArDdXiGlE2w2oqXfnV6bhoB1yXkEqy2X0KBTTNpDBQTjDQGjNQ6GdoCyNw/fWo88r3N19wt1vn/DTz788AaWokdKIy6sbLMcNhryeoBSk0O2hWCyERowD8vICy3F9P6DdFzYB0CHAtu0Ew03PAuexa445JChUEYuiZnscijEIsUe/ukDMI4Nh0nsoJ1P+AkWgaXtcrC8ZCK3FDMpwUh3Keac0UI0/dgit51BG4/CNeUbhfHwRlJiWDCUvX2M4dEohIIPHtyFgpSzP0ScUah7v/4fCneL9f97lUmgUD7x6nwGVD9RzrKOjwQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="gap-buffer-3"
        title="gap-buffer-3"
        src="/static/83361798090a328b5ccbd7b31a9a86f8/37523/gap-buffer-3.png"
        srcset="/static/83361798090a328b5ccbd7b31a9a86f8/e9ff0/gap-buffer-3.png 180w,
/static/83361798090a328b5ccbd7b31a9a86f8/f21e7/gap-buffer-3.png 360w,
/static/83361798090a328b5ccbd7b31a9a86f8/37523/gap-buffer-3.png 720w,
/static/83361798090a328b5ccbd7b31a9a86f8/a242d/gap-buffer-3.png 724w"
        sizes="(max-width: 720px) 100vw, 720px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>또한, UI의 구조가 변경되어 데이터를 메모리에 넣어야한다면, 변경되어야 하는 지점으로 cursor을 이동합니다. 그리고 cursor가 위치된 해당 부분을 Gap으로 만들게 됩니다.<br>
그러면, 새로운 데이터를 넣을 gap을 생기기 때문에 공간에 다시 필요한 데이터를 채울 수 있습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 128.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAADY0lEQVRIx41Vy3IbVRDNL0CFAusxc9/veWj0sD2yE5MAxaOoFFCkwopiSTnJmg0fwIIFO/b50JO6PZIiW4rtRZeueuae6e5zuvsR4wrZSibBhIauAlQaTKeAwnuw4Om89ZGfieHO9u4G59EOsJTg2kBYi2IqwJnE4xHH26sKv/eRztlXFgJMa5ytL+B8wrTgO7CbgEyCKwMVPJjUENpgxBX+et7gz8sKJ1xBKAOen3mL1LRQylGkdwKaJkI6B+kddPBwX8/gnrWQ1kGGjb8K9MHb6d4AZEzSS8LklDmKYqjRkz/O0L9aYjriVJZcjlIptN0czkUU5a0I86UJkzgpBQqlYdsEGTxU9EM0rScTzlI5suUsCqkw2YDdIMUIhUtt8YsL6J1H6SwYUyi5REwtlqs1WdXMIbUbyHMOa+fRSY3p7ZQFV3BCYyUNKmMhoqfCc6VhQkQ1m8PFCtp5SGMHUoJHMhbfGEfZHaRcMIlRmWujYepI0snE6BBgUoSva9iUqATSWqgqwGiD5/oI4AEpGx1mfVVVh379JRaLHinNIKXFdMrBjYW7D3AnmzZBBUekZL0xq8mEMztSVB1htcFXG0B+F2COkORRCsTYYnV6gcWyR1V3ENKQnLgdIrzSFuOskkmJUbZxcQi4Fa0wBq6qUM8X8FUN7QOU8/RMpqGGP1sPKTS+/+FH9OsnWJ2e3wGYi5+J8QEuVbAxkS9/aB9QSYNfX/6G6+s3uH799p6UU4t+fUU6zGeZe7fgR1MeT0rCOE6KHzolE5A7hFtDBMl7SDkKSLIpBEXoXEI3P8N8cU4RCmGoz7cRPkg2eYjm3zwbc+3axQqhamA2pOQOktFTDZ89BFDvdQql7j11iYmbsZafpYCoP9J6BymboVNyaiE06PunWC7XpEnqlAkHMwaXPuBcmQd0Sv1hwEqfp4/H1NgPPufonTETGG3G//Gdsr8CRB73GmOu8O7VEv/9NMdnpYJUephE1mCxOoV/yE7JUeT/+eKEKfz7osPf37b4vJAQUtPHMmA7X8CYcDixD3fKMKYoUucwawKaOoBvfDTF60hs5zvlHtjxNZpJmXDwUuDTE4b/X8zwz3cNPvmCkY8IExIXT6+QUnNPynIYsNuFLmLAvEvoukTn7ZLXVQSXZrcq9gHfA2bp8hK09SucAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="gap-buffer-4"
        title="gap-buffer-4"
        src="/static/37f30be3f492e8c4518c5ea03ef83692/37523/gap-buffer-4.png"
        srcset="/static/37f30be3f492e8c4518c5ea03ef83692/e9ff0/gap-buffer-4.png 180w,
/static/37f30be3f492e8c4518c5ea03ef83692/f21e7/gap-buffer-4.png 360w,
/static/37f30be3f492e8c4518c5ea03ef83692/37523/gap-buffer-4.png 720w,
/static/37f30be3f492e8c4518c5ea03ef83692/62de4/gap-buffer-4.png 746w"
        sizes="(max-width: 720px) 100vw, 720px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>위의 메모리 구조가 Compose에 채택된 이유는 주로 데이터의 변경이 주로 발생되며, 이를 UI 구조를 자주 바꾸는 작업이 아니라는 가정을 가지고 있기 때문입니다. 그로 인해, 초기 gap의 할당 이후로는 O(1)의 시간복잡도를 가질 확률이 높아지게 됩니다.</p>
<p>혹시나, 화면의 특정 위치에서 조건문으로 composable이 보여지거나 숨기거나 하는 작업이 잦게 일어난다면 좋지 않을 수도 있습니다.</p>
<h3 id="참고자료" style="position:relative;"><a href="#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C" aria-label="참고자료 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>참고자료</h3>
<ul>
<li><a href="https://www.geeksforgeeks.org/gap-buffer-data-structure/">Gap Buffer</a></li>
<li><a href="https://medium.com/androiddevelopers/under-the-hood-of-jetpack-compose-part-2-of-2-37b2c20c6cdd">Under the hood of Jetpack compose part2</a></li>
</ul></div></div><style data-emotion="css 1oigrb5">.css-1oigrb5{display:grid;width:100%;grid-template-columns:49.3% 49.3%;-webkit-column-gap:1.4%;column-gap:1.4%;}</style><div class="css-1oigrb5 ewt10t13"><div><style data-emotion="css 1qd0f5s">.css-1qd0f5s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;background-color:#F7F8FA;border-radius:6px;padding:15px;height:105px;cursor:pointer;}.css-1qd0f5s:hover{background-color:#EEEFF1;}.css-1qd0f5s:hover .title{-webkit-text-decoration:underline;text-decoration:underline;}.css-1qd0f5s.prev{margin-right:auto;}.css-1qd0f5s.next{margin-left:auto;}</style><a class="prev css-1qd0f5s ewt10t12" href="/compose-internal-1/"><style data-emotion="css f9vs07">.css-f9vs07{color:#989BA0;margin-bottom:10px;}</style><div class="css-f9vs07 ewt10t11">이전 글</div><style data-emotion="css 1u6ok19">.css-1u6ok19{font-size:16px;line-height:150%;overflow:hidden;text-overflow:ellipsis;word-break:break-word;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;}</style><div class="css-1u6ok19 ewt10t10">Compose Internal (1) - 기본 시스템 원리</div></a></div><div><a class="next css-1qd0f5s ewt10t12" href="/compose-internal-3/"><div class="css-f9vs07 ewt10t11">다음 글</div><div class="css-1u6ok19 ewt10t10">Compose Internal (3) - 위치메모이제이션</div></a></div></div><style data-emotion="css 1ab8s7t">.css-1ab8s7t{margin:30px 0;}</style><div class="utterances css-1ab8s7t e11ijv650"></div></main></div><style data-emotion="css 11h7mx5">.css-11h7mx5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:62px;margin-top:auto;position:fixed;bottom:0;z-index:-1;background-color:#F7F8FA;font-family:GmarketSansLight;}@media screen and (max-width: 768px){.css-11h7mx5{font-size:13px;height:40px;}}</style><div class="css-11h7mx5 e19a7gm21"><style data-emotion="css b1vorm">.css-b1vorm{text-align:center;width:100%;max-width:720px;}</style><p class="css-b1vorm e19a7gm20">© <!-- -->2024<!-- --> powered by stitch</p></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/compose-internal-2/";window.___webpackCompilationHash="1d057cd1caa6e1719bd8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f5d960a57f3a3637c7c8.js"],"app":["/app-523d3873831d5e074b62.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-b9a517528300521af681.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-1544742cf446f0106cab.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-36987f7bbec9b288d85c.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-a0f0ef9767995f739c22.js"],"component---src-pages-playground-tsx":["/component---src-pages-playground-tsx-00f0d6a7ad621f78c54f.js"],"component---src-templates-post-template-index-tsx":["/component---src-templates-post-template-index-tsx-c2352aa73de0f1a08c2a.js"],"component---src-templates-posts-template-index-tsx":["/component---src-templates-posts-template-index-tsx-b187c14a930a29ce4d11.js"]};/*]]>*/</script><script src="/polyfill-f5d960a57f3a3637c7c8.js" nomodule=""></script><script src="/app-523d3873831d5e074b62.js" async=""></script><script src="/framework-ee0784ccad9a5b1a0434.js" async=""></script><script src="/webpack-runtime-46402c989fbe6eef07b6.js" async=""></script></body></html>